![изображение](https://github.com/user-attachments/assets/9167b267-5441-46e8-b2c3-189efa005c36)


Комманда ML_RUSTlers
Даминов Артур, Ковалева Екатерина, Медведев Игорь
Кочетков Михаил - тимлид.

Анализ сайта Сберавтоподписка
## Оглавление

1. Описание проекта

2. Какой кейс решаем?

3. Краткая информация о данных

4. Этапы работы над проектом

5. Результат

6. Тестирование и возможность установки

## Описание проекта

СберАвтоподписка — это сервис долгосрочной аренды автомобилей для физических лиц. Клиент платит фиксированную сумму в месяц и получает авто в пользование сроком от 6 месяцев до 3 лет.

В стоимость включены:

●	Страхование (КАСКО, ОСАГО, ДСАГО);

●	ТО и ремонт;

●	Сезонная смена и хранение шин;

●	Круглосуточная поддержка.

Дополнительно можно заказать консьерж-сервис — доставка автомобиля в сервис и обратно.


## Цель проекта : 

Компания «СберАвтоподписка» хочет увеличить эффективность сайта: улучшить пользовательский опыт, повысить конверсию, сделать рекламные кампании более результативными. 

## Какой кейс решаем:

Создаем модель, которая предсказывает вероятность того, что пользователь совершит целевое действие (оставит заявку, закажет звонок и пр.) на сайте.

## Краткая информация о данных

Предоставлены логи пользовательских действий на сайте и дополнительные данные по сессиям.

Некоторые атрибуты:

●	utm_*, geo_*, device_* — характеристики визитов;

●	ga_hits.hit_page_path — страницы сайта;

●	ga_sessions.utm_medium/source — источники трафика.

________________________________________

## Этапы работы над проектом:

* Загрузка данных и необходимые импорты
* EDA
* Feature Engeneering
* Feature Selection
* Modeling 
* API и упаковка
* Тестирование

## Результат

Создана  модель (лидер - catboost ), которая предсказывает вероятность того, что пользователь совершит целевое действие (оставит заявку, закажет звонок и пр.) на сайте. Требуемый порог метрики ROC-AUC преодален (достигнута метрика 0.7). 

## Тестирование и возможность установки

Для  проверки резултатата:

* создайте  папку проекта  например test
* сохраните файлы best_CatBoost_full.pkl, pred2.csv, test_predict.py, api.py, requirements.txt, в созданную  папку  проекта
* создайте в папке  новое виртуально окружение (Испытано  на версиях 3.10 и 3.12.9)
* активируйте виртуально окружение
* установите зависимости 
* в качестве альтернативы установке  установить pip install pandas joblib fastapi catboost

* запустите исполняемый файл test_predict.py Данный фал исполняется как самостоятельно так и вместе с API
Ниже  пример создания виртуальног окружения  на Windos 10  в  среде PyCharm Community Edition 2024.2.4

PS D:\Hakaton_sberauto> python -m venv D:\Hakaton_sberauto\test\venv
PS D:\Hakaton_sberauto> pip list
Package Version
------- -------
pip     24.3.1
PS D:\Hakaton_sberauto> D:\Hakaton_sberauto\test\venv\Scripts\Activate.ps1
pip install -r requirements.txt
python test_predict.py

Варинат запуска Fast API тот же  результат - предсказания в виде  0 или 1, но в браузере.
Для  запуска:
* актвируй  виртуальное  окружение
venv/Scripts/activate
* находясь в папке  проекта и в активном виртуально окружении выполните в комментдной строке терминала 
uvicorn api:app --port 5000 --reload
* в  браузере при  запущеном Fast API откройте сылку
http://127.0.0.1:5000/run-test-predict

* Открытие Swagger UI
 http://127.0.0.1:5000/docs
